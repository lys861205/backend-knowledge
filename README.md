# backend-knowledge

## 1. C++基础知识
## 2. 网络知识
## 3. 多线程，多进程（线程池）
## 4. 锁(互斥锁，自旋锁，读写锁)的使用场景
## 5. STL容器的特征，使用场景
## 6. 数据结构（队列，数组，链表，字典，树，hash表，跳跃表）
## 7. 各种算法
## 8. 工程架构(微服务，paxos, raft协议)
## 9. 开源组件（redis, kafka, hbase, storm, spark, rpc框架）
## 10. linux操作系统知识

###  linux文件系统
磁盘和文件系统的管理，也是操作系统最核心的功能
* 磁盘为系统提供了最基本的持久化的存储
* 文件系统在磁盘的基础上，提供了一个管理文件的的树状结构
### 索引节点和目录项
在linux上一切皆文件，不仅普通文件和目录，就连块设备，套接字，管道等也都是统一的文件系统管理的
为了方便管理，linux文件系统为每个文件分配2个数据结构，索引节点(index node)和目录项(directory entry),
它们主要用来记录文件的元信息和目录结构。
* 索引节点，简称inode,用来记录文件的元数据，不如inode编号，文件大小，访问权限，修改日期，数据的位置等，索引节点和文件
一一对应，它跟文件内容一样，都会被持久化存储在磁盘中，所以索引节点同用占用磁盘空间
* 目录项，简称dentry，用来记录文件的名字，索引节点的指针以及其他目录项的的关联关系，多个关联的目录项，
就构成了文件系统的目录结构，目录项是由内核维护的一个内存数据结构，所以通常也被叫做目录项缓存
### VFS虚拟文件系统
VFS内部通过目录项，索引节点，逻辑块以及超级块等数据结构来管理文件
* 目录项，记录文件的名字，以及文件和其他目录项之间的关系
* 索引节点，记录了文件的元数据
* 逻辑块，是由连续磁盘扇区构成的最小读写单元，用来存储文件数据
* 超级块，用来记录文件系统整体的状态，如索引节点和逻辑块的使用情况等
其中目录项是一个内存缓存；超级块，索引节点和逻辑块，都是存储在磁盘中的持久化的数据
### 磁盘性能指标
说到磁盘性能的衡量标准，必须要提到五个常见指标，也就是我们经常用到的，使用率、饱和度、IOPS、吞吐量以及响应时间等。这五个指标，是衡量磁盘性能的基本指标
* 使用率，是指磁盘处理 I/O 的时间百分比。过高的使用率（比如超过 80%），通常意味着磁盘 I/O 存在性能瓶颈
* 饱和度，是指磁盘处理 I/O 的繁忙程度。过高的饱和度，意味着磁盘存在严重的性能瓶颈。当饱和度为 100% 时，磁盘无法接受新的 I/O 请求
* IOPS（Input/Output Per Second），是指每秒的 I/O 请求数
* 吞吐量，是指每秒的 I/O 请求大小
* 响应时间，是指 I/O 请求从发出到收到响应的间隔时间
### 磁盘 I/O 观测
iostat 是最常用的磁盘 I/O 性能观测工具，它提供了每个磁盘的使用率、IOPS、吞吐量等各种常见的性能指标，
当然，这些指标实际上来自  /proc/diskstats

iostat 指标

<img src="https://github.com/lys861205/backend-knowledge/blob/master/iostat.png" width="400" height="800">

这些指标中
* %util  ，就是我们前面提到的磁盘 I/O 使用率
* r/s+  w/s  ，就是 IOPS
* rkB/s+wkB/s ，就是吞吐量
* r_await+w_await ，就是响应时间



## 11. 数据库
## 12. 内存相关知识
## 13. 数据序列化(json, xml, protobuf)
## 14. 系统设计（限流计数器，令牌桶，漏桶）
## 15. 负载均衡算法
* 硬件负载均衡
F5商业负载均衡器
* 软件负载均衡
1. 服务端负载均衡
2. 客户端负载均衡
* 算法
随机，轮询，哈希，最小压力，权重

平滑权重A,B,C的权重5，1，1权重总和7
|次数|权重|选择|非固定权重|
|---|----|----|---------|
|1|{5, 1, 1}|A|{-2, 1, 1}|
|2|{3, 2, 2}|A|{-4, 2, 2}|
|3|{1, 3, 3}|B|{1, -4, 3}|
|4|{6, -3, 4}|A|{-1, -3, 4}|
|5|{4, -2, 5}|C|{4, -2, -2}|
|6|{9, -1, -1}|A|{2, -1, -1}|
|7|{7, 0, 0}|A|{0, 0, 0}|
|8|{5, 1, 1}|||

## 16. 程序性能优化

